{"version":3,"file":"index.es.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport $ from 'jquery';\nimport 'bootstrap-daterangepicker';\n\nexport interface EventHandler {\n  (event: JQuery.Event, picker: daterangepicker): any;\n}\nexport interface CallbackHandler {\n  (\n    start?: daterangepicker.DateOrString,\n    end?: daterangepicker.DateOrString,\n    label?: string\n  ): any;\n}\nexport interface Props {\n  initialSettings?: daterangepicker.Options;\n\n  // events supported by the upstream lib\n  onApply?: EventHandler;\n  onCancel?: EventHandler;\n  onHide?: EventHandler;\n  onHideCalendar?: EventHandler;\n  onShow?: EventHandler;\n  onShowCalendar?: EventHandler;\n\n  // custom events in this lib\n  onEvent?: EventHandler;\n  onCallback?: CallbackHandler;\n}\n\nexport class DateRangePicker extends React.Component<Props> {\n  ref: any;\n  $picker: JQuery | null;\n  constructor(props: Props) {\n    super(props);\n    this.ref = null;\n    this.$picker = null;\n  }\n  componentDidMount() {\n    // initialize daterangepicker\n    this.$picker = $(this.ref);\n    this.$picker.daterangepicker(\n      this.props.initialSettings,\n      this.handleCallback.bind(this)\n    );\n    // attach event listeners\n    ['Show', 'Hide', 'ShowCalendar', 'HideCalendar', 'Apply', 'Cancel'].forEach(\n      (event) => {\n        const lcase = event.toLowerCase();\n        this.$picker?.on(\n          lcase + '.daterangepicker',\n          this.makeEventHandler('on' + event)\n        );\n      }\n    );\n  }\n  componentWillUnmount() {\n    this.$picker?.data('daterangepicker')?.remove();\n  }\n  handleCallback(...args: any) {\n    if (typeof this.props.onCallback === 'function') {\n      this.props.onCallback(...args);\n    }\n  }\n  makeEventHandler(eventType: string) {\n    const { onEvent } = this.props;\n    return (event: JQuery.Event, picker: daterangepicker) => {\n      if (typeof onEvent === 'function') {\n        onEvent(event, picker);\n      }\n      if (typeof (this.props as any)[eventType] === 'function') {\n        (this.props as any)[eventType](event, picker);\n      }\n    };\n  }\n  setStartDate(dateOrString: daterangepicker.DateOrString) {\n    this.$picker?.data('daterangepicker')?.setStartDate(dateOrString);\n  }\n  setEndDate(dateOrString: daterangepicker.DateOrString) {\n    this.$picker?.data('daterangepicker')?.setEndDate(dateOrString);\n  }\n  render() {\n    const childElement: any = React.Children.only(this.props.children);\n    return React.cloneElement(childElement, {\n      ref: (el: any) => (this.ref = el),\n    });\n  }\n}\n\nexport default DateRangePicker;\n"],"names":["React.Children","React.cloneElement","React.Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8BqC,mCAAsB;IAGzD,yBAAY,KAAY;QAAxB,YACE,kBAAM,KAAK,CAAC,SAGb;QAFC,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QAChB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;KACrB;IACD,2CAAiB,GAAjB;QAAA,iBAiBC;;QAfC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,eAAe,CAC1B,IAAI,CAAC,KAAK,CAAC,eAAe,EAC1B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAC/B,CAAC;;QAEF,CAAC,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,cAAc,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,OAAO,CACzE,UAAC,KAAK;;YACJ,IAAM,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;YAClC,MAAA,KAAI,CAAC,OAAO,0CAAE,EAAE,CACd,KAAK,GAAG,kBAAkB,EAC1B,KAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,KAAK,CAAC,EACnC;SACH,CACF,CAAC;KACH;IACD,8CAAoB,GAApB;;QACE,YAAA,IAAI,CAAC,OAAO,0CAAE,IAAI,CAAC,iBAAiB,2CAAG,MAAM,GAAG;KACjD;IACD,wCAAc,GAAd;;QAAe,cAAY;aAAZ,UAAY,EAAZ,qBAAY,EAAZ,IAAY;YAAZ,yBAAY;;QACzB,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,UAAU,EAAE;YAC/C,CAAA,KAAA,IAAI,CAAC,KAAK,EAAC,UAAU,WAAI,IAAI,EAAE;SAChC;KACF;IACD,0CAAgB,GAAhB,UAAiB,SAAiB;QAAlC,iBAUC;QATS,IAAA,OAAO,GAAK,IAAI,CAAC,KAAK,QAAf,CAAgB;QAC/B,OAAO,UAAC,KAAmB,EAAE,MAAuB;YAClD,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;gBACjC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;aACxB;YACD,IAAI,OAAQ,KAAI,CAAC,KAAa,CAAC,SAAS,CAAC,KAAK,UAAU,EAAE;gBACvD,KAAI,CAAC,KAAa,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;aAC/C;SACF,CAAC;KACH;IACD,sCAAY,GAAZ,UAAa,YAA0C;;QACrD,YAAA,IAAI,CAAC,OAAO,0CAAE,IAAI,CAAC,iBAAiB,2CAAG,YAAY,CAAC,YAAY,EAAE;KACnE;IACD,oCAAU,GAAV,UAAW,YAA0C;;QACnD,YAAA,IAAI,CAAC,OAAO,0CAAE,IAAI,CAAC,iBAAiB,2CAAG,UAAU,CAAC,YAAY,EAAE;KACjE;IACD,gCAAM,GAAN;QAAA,iBAKC;QAJC,IAAM,YAAY,GAAQA,QAAc,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACnE,OAAOC,YAAkB,CAAC,YAAY,EAAE;YACtC,GAAG,EAAE,UAAC,EAAO,IAAK,QAAC,KAAI,CAAC,GAAG,GAAG,EAAE,IAAC;SAClC,CAAC,CAAC;KACJ;IACH,sBAAC;AAAD,CAAC,CAzDoCC,SAAe;;;;;"}